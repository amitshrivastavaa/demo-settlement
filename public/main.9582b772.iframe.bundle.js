/*! For license information please see main.9582b772.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_rarimo_rarimo_settlement_component=self.webpackChunk_rarimo_rarimo_settlement_component||[]).push([[179],{"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>__namedExportsOrder,parameters:()=>parameters});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{disabled:!0,matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/stories/PurchaseWithAnyToken.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Demo:()=>Demo,DemoInstructions:()=>PurchaseWithAnyToken_stories_DemoInstructions,__namedExportsOrder:()=>__namedExportsOrder,default:()=>PurchaseWithAnyToken_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),Box=__webpack_require__("./node_modules/@mui/material/esm/Box/Box.js"),Container=__webpack_require__("./node_modules/@mui/material/esm/Container/Container.js"),Grid=__webpack_require__("./node_modules/@mui/material/esm/Grid/Grid.js"),Button=(__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@mui/material/esm/Button/Button.js")),Link=__webpack_require__("./node_modules/@mui/material/esm/Link/Link.js"),Paper=__webpack_require__("./node_modules/@mui/material/esm/Paper/Paper.js"),Step=__webpack_require__("./node_modules/@mui/material/esm/Step/Step.js"),StepContent=__webpack_require__("./node_modules/@mui/material/esm/StepContent/StepContent.js"),StepLabel=__webpack_require__("./node_modules/@mui/material/esm/StepLabel/StepLabel.js"),Stepper=__webpack_require__("./node_modules/@mui/material/esm/Stepper/Stepper.js"),Typography=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),getDemoUrls=(__webpack_require__("./node_modules/core-js/modules/web.url.js"),function getDemoUrls(){new URL(window.location.href);return{demo:"https://rarimo.gitlab.io/demo-settlement/?path=/story/demo-purchasewithanytoken--demo&full=true",demoInstructions:"https://rarimo.gitlab.io/demo-settlement/?path=/story/demo-purchasewithanytoken--demo-instructions&full=true"}}),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BoldItalicText=function BoldItalicText(_ref){var text=_ref.text;return(0,jsx_runtime.jsx)("i",{style:{fontWeight:"bold"},children:text})};BoldItalicText.displayName="BoldItalicText";var steps=function steps(demoUrls){return[{label:"Connect a Goerli network in Metamask (to demo you must have at least 0.1 UNI token))",description:(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,jsx_runtime.jsx)(Typography.Z,{children:"If you donâ€™t have any UNI:"}),(0,jsx_runtime.jsxs)(Box.Z,{marginLeft:2,children:[(0,jsx_runtime.jsxs)(Typography.Z,{children:["A: Obtain ",(0,jsx_runtime.jsx)(BoldItalicText,{text:"Goerli ETH"}),", use the following faucet:"," ",(0,jsx_runtime.jsx)(Link.Z,{target:"_blank",href:"https://goerlifaucet.com/",children:"here"})," ","or"," ",(0,jsx_runtime.jsx)(Link.Z,{target:"_blank",href:"https://goerli-faucet.pk910.de/",children:"here"}),"."]}),(0,jsx_runtime.jsxs)(Typography.Z,{children:["B: Obtain ",(0,jsx_runtime.jsx)(BoldItalicText,{text:"UNI"})," token by Swapping"," ",(0,jsx_runtime.jsx)(BoldItalicText,{text:"Goerli ETH"}),(0,jsx_runtime.jsx)(BoldItalicText,{text:"UNI"})," token using Uniswap"," ",(0,jsx_runtime.jsx)(Link.Z,{target:"_blank",href:"https://app.uniswap.org/#/swap?chain=goerli",children:"here"}),"."]})]})]})},{label:"Connect MetaMask Wallet to Demo",description:(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",gap:1,flexDirection:"column",marginLeft:2,children:[(0,jsx_runtime.jsxs)(Typography.Z,{children:["A: Navigate to the"," ",(0,jsx_runtime.jsx)(Link.Z,{href:demoUrls.demo,target:"_blank",children:"demo page"})," ","& click ",(0,jsx_runtime.jsx)(BoldItalicText,{text:"Purchase with Token button"}),"."]}),(0,jsx_runtime.jsx)(Typography.Z,{children:"B: Follow Prompts to connect metamask"}),(0,jsx_runtime.jsxs)(Typography.Z,{children:["C: For demo purposes, select ",(0,jsx_runtime.jsx)(BoldItalicText,{text:"UNI token"})," as a payment token"]})]})},{label:"Review price & Checkout",description:(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",gap:1,flexDirection:"column",marginLeft:2,children:[(0,jsx_runtime.jsxs)(Typography.Z,{children:[" ","A: Review the price and click on the"," ",(0,jsx_runtime.jsx)(BoldItalicText,{text:"Checkout button"}),"."]}),(0,jsx_runtime.jsx)(Typography.Z,{children:"B: Approve spending of UNI token & transaction in Metamask Pop-Up."})]})},{label:"See NFT in metamask",description:(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",gap:1,flexDirection:"column",children:["After the transaction has been completed:",(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",gap:1,flexDirection:"column",marginLeft:2,children:[(0,jsx_runtime.jsx)(Typography.Z,{children:"A: switch the chain in metamask from Goerli network to Sepolia network."}),(0,jsx_runtime.jsxs)(Typography.Z,{children:["B: Scroll down and click on ",(0,jsx_runtime.jsx)(BoldItalicText,{text:"import token"}),"."]}),(0,jsx_runtime.jsx)(Typography.Z,{children:"C: A Custom Token screen will appear. Add following details:"}),(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",gap:1,flexDirection:"column",marginLeft:4,children:[(0,jsx_runtime.jsxs)(Typography.Z,{sx:{fontWeight:"bold"},children:["Token contract address:"," "]}),(0,jsx_runtime.jsx)(Typography.Z,{sx:{fontStyle:"italic"},children:"0x77FEdfb705C8baC2E03aAD2Ad8A8Fe83e3E20FA1"}),(0,jsx_runtime.jsx)(Typography.Z,{sx:{fontWeight:"bold"},children:"Token symbol: "})," ",(0,jsx_runtime.jsx)(Typography.Z,{sx:{fontStyle:"italic"},children:"RNFT"}),(0,jsx_runtime.jsxs)(Typography.Z,{sx:{fontWeight:"bold"},children:["Token Decimal:"," "]})," ",(0,jsx_runtime.jsx)(Typography.Z,{sx:{fontStyle:"italic"},children:"0"})]})]})]})}]};function VerticalLinearStepper(){var _React$useState2=_slicedToArray(react.useState(0),2),activeStep=_React$useState2[0],setActiveStep=_React$useState2[1],handleNext=function handleNext(){setActiveStep((function(prevActiveStep){return prevActiveStep+1}))},handleBack=function handleBack(){setActiveStep((function(prevActiveStep){return prevActiveStep-1}))};return(0,jsx_runtime.jsxs)(Box.Z,{sx:{minWidth:"100%"},children:[(0,jsx_runtime.jsx)(Stepper.Z,{activeStep,orientation:"vertical",children:steps(getDemoUrls()).map((function(step,index){return(0,jsx_runtime.jsxs)(Step.Z,{children:[(0,jsx_runtime.jsx)(StepLabel.Z,{optional:3===index?(0,jsx_runtime.jsx)(Typography.Z,{variant:"caption",children:"Last step"}):null,children:(0,jsx_runtime.jsx)(Typography.Z,{sx:{fontWeight:"bold"},children:step.label})}),(0,jsx_runtime.jsxs)(StepContent.Z,{children:[(0,jsx_runtime.jsx)(Typography.Z,{children:step.description}),(0,jsx_runtime.jsx)(Box.Z,{sx:{mb:2},children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Button.Z,{variant:"contained",onClick:handleNext,sx:{mt:1,mr:1,textTransform:"none"},children:index===steps.length-1?"Finish":"Continue"}),(0,jsx_runtime.jsx)(Button.Z,{disabled:0===index,onClick:handleBack,sx:{mt:1,mr:1,textTransform:"none"},children:"Back"})]})})]})]},step.label)}))}),activeStep===steps.length&&(0,jsx_runtime.jsxs)(Paper.Z,{square:!0,elevation:0,sx:{p:3},children:[(0,jsx_runtime.jsx)(Typography.Z,{children:"All steps completed - you're finished"}),(0,jsx_runtime.jsx)(Button.Z,{onClick:function handleReset(){setActiveStep(0)},sx:{mt:1,mr:1,textTransform:"none"},children:"Reset"})]})]})}VerticalLinearStepper.displayName="VerticalLinearStepper";var DemoInstructions=function DemoInstructions(){return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(Container.Z,{fixed:!0,children:(0,jsx_runtime.jsx)(Box.Z,{sx:{flexGrow:1,paddingTop:20},children:(0,jsx_runtime.jsx)(Grid.ZP,{container:!0,spacing:0,sx:{width:"100%"},children:(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:12,md:12,display:"flex",justifyContent:"center",children:(0,jsx_runtime.jsx)(VerticalLinearStepper,{})})})})})})},Skeleton=(__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-float.js"),__webpack_require__("./node_modules/@mui/material/esm/Skeleton/Skeleton.js")),VerifiedBadge=__webpack_require__("./node_modules/iconoir-react/dist/esm/VerifiedBadge.js"),dist=__webpack_require__("./node_modules/swr/immutable/dist/index.mjs"),config_CONFIG_UNISWAP_TOKEN_LIST=(__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),"https://api.demo.rarimo.com/marketplace/tokens/polygon"),config_CONFIG_TRADER_JOE_TOKEN_LIST="https://api.demo.rarimo.com/marketplace/tokens/avalanche",loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js");function getLogger(){var level=localStorage.getItem("loglevel:cerberus")||"INFO",log=loglevel.getLogger("cerberus");return log.setLevel(level),log}var _CHAIN_NAMES_TO_IDS,_CHAIN_IDS_TO_NAMES,MainnetChainName,TestnetChainName;getLogger(),__webpack_require__("./node_modules/core-js/modules/es.array.find.js");!function(MainnetChainName){MainnetChainName.ethereum="ethereum",MainnetChainName.polygon="polygon",MainnetChainName.avalanche="avalanche",MainnetChainName.solana="solana",MainnetChainName.near="near",MainnetChainName.bsc="binance-smart-chain"}(MainnetChainName||(MainnetChainName={})),function(TestnetChainName){TestnetChainName.goerli="goerli",TestnetChainName.mumbai="mumbai",TestnetChainName.fuji="fuji"}(TestnetChainName||(TestnetChainName={}));var MainnetChainIds,TestnetChainIds,ChainName=Object.assign({},MainnetChainName,TestnetChainName);!function(MainnetChainIds){MainnetChainIds[MainnetChainIds.ethereum=1]="ethereum",MainnetChainIds[MainnetChainIds.polygon=137]="polygon",MainnetChainIds[MainnetChainIds.avalanche=43114]="avalanche"}(MainnetChainIds||(MainnetChainIds={})),function(TestnetChainIds){TestnetChainIds[TestnetChainIds.goerli=5]="goerli",TestnetChainIds[TestnetChainIds.mumbai=80001]="mumbai",TestnetChainIds[TestnetChainIds.fuji=43113]="fuji"}(TestnetChainIds||(TestnetChainIds={}));var _templateObject,ChainIds=Object.assign({},MainnetChainIds,TestnetChainIds),getWrappedToken=((_CHAIN_NAMES_TO_IDS={})[ChainName.ethereum]=ChainIds.ethereum,_CHAIN_NAMES_TO_IDS[ChainName.goerli]=ChainIds.goerli,_CHAIN_NAMES_TO_IDS[ChainName.polygon]=ChainIds.polygon,_CHAIN_NAMES_TO_IDS[ChainName.mumbai]=ChainIds.mumbai,_CHAIN_NAMES_TO_IDS[ChainName.avalanche]=ChainIds.avalanche,_CHAIN_NAMES_TO_IDS[ChainName.fuji]=ChainIds.fuji,(_CHAIN_IDS_TO_NAMES={})[ChainIds.ethereum]=ChainName.ethereum,_CHAIN_IDS_TO_NAMES[ChainIds.goerli]=ChainName.goerli,_CHAIN_IDS_TO_NAMES[ChainIds.polygon]=ChainName.polygon,_CHAIN_IDS_TO_NAMES[ChainIds.mumbai]=ChainName.mumbai,_CHAIN_IDS_TO_NAMES[ChainIds.avalanche]=ChainName.avalanche,_CHAIN_IDS_TO_NAMES[ChainIds.fuji]=ChainName.fuji,function getWrappedToken(_ref){var nftChainName=_ref.nftChainName,selectedChainName=_ref.selectedChainName,tokens=_ref.tokens,bridgeTokenSymbol=function getRarimoSupportedToken(nftChainName,paymentChainName){return nftChainName===ChainName.ethereum&&paymentChainName===ChainName.avalanche?"WETH.e":{ethereum:"WETH",polygon:"WMATIC",avalanche:"WAVAX",goerli:"WETH"}[nftChainName]}(nftChainName,selectedChainName),wrappedToken=tokens.find((function(token){return token.symbol===bridgeTokenSymbol}));return wrappedToken||nftChainName!==ChainName.polygon||selectedChainName!==ChainName.ethereum||(wrappedToken={address:"0x7c9f4C87d911613Fe9ca58b579f737911AAD2D43",name:"Wrapped Matic (Wormhole)",symbol:"WMATIC",decimals:18,chainId:1,logoURI:"https://assets.coingecko.com/coins/images/4713/thumb/matic-token-icon.png?1624446912"}),wrappedToken}),CssBaseline=__webpack_require__("./node_modules/@mui/material/esm/CssBaseline/CssBaseline.js"),ThemeProvider=__webpack_require__("./node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");var StyledButton=emotion_styled_browser_esm.Z.button(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n  height: 48px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 16px 24px 16px 24px;\n  background-color: #000000;\n  font-weight: 600;\n  align-content: center;\n  flex-wrap: nowrap;\n  border: none;\n  border-radius: 8px;\n  color: #ffffff;\n  cursor: pointer;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.8);\n  }\n  &:disabled {\n    background: #ffffff;\n    border: solid 0.5px #d3d3d3;\n    color: #d3d3d3;\n    cursor: not-allowed;\n    box-shadow: none;\n  }\n"]))),Button_Button=function Button(_ref){var label=_ref.label,isDisabled=_ref.isDisabled,className=_ref.className,onClick=_ref.onClick,styles=_ref.styles;return(0,jsx_runtime.jsx)(StyledButton,{disabled:null!=isDisabled&&isDisabled,onClick,style:styles,className,children:label})};Button_Button.displayName="Button";const components_Button_Button=Button_Button;try{Button_Button.displayName="Button",Button_Button.__docgenInfo={description:"",displayName:"Button",props:{label:{defaultValue:null,description:"Button contents",name:"label",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"Optional click handler",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!1,type:{name:"boolean"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"object"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Button/Button.tsx#Button"]={docgenInfo:Button_Button.__docgenInfo,name:"Button",path:"src/components/Button/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}var Dialog=__webpack_require__("./node_modules/@mui/material/esm/Dialog/Dialog.js"),DialogContent=__webpack_require__("./node_modules/@mui/material/esm/DialogContent/DialogContent.js"),Cancel=__webpack_require__("./node_modules/iconoir-react/dist/esm/Cancel.js"),List=__webpack_require__("./node_modules/@mui/material/esm/List/List.js"),ListItemButton=__webpack_require__("./node_modules/@mui/material/esm/ListItemButton/ListItemButton.js"),ListItemIcon=__webpack_require__("./node_modules/@mui/material/esm/ListItemIcon/ListItemIcon.js"),ListItemText=__webpack_require__("./node_modules/@mui/material/esm/ListItemText/ListItemText.js"),Divider=__webpack_require__("./node_modules/@mui/material/esm/Divider/Divider.js"),DialogHeader=function DialogHeader(_ref){var label=_ref.label;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Typography.Z,{fontWeight:"bold",variant:"h6",children:label}),(0,jsx_runtime.jsx)(Divider.Z,{})]})};const RarimoPayDialog_DialogHeader=DialogHeader;try{DialogHeader.displayName="DialogHeader",DialogHeader.__docgenInfo={description:"",displayName:"DialogHeader",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RarimoPayDialog/DialogHeader.tsx#DialogHeader"]={docgenInfo:DialogHeader.__docgenInfo,name:"DialogHeader",path:"src/components/RarimoPayDialog/DialogHeader.tsx#DialogHeader"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js");var LoadingIndicator_templateObject,Avatar=__webpack_require__("./node_modules/@mui/material/esm/Avatar/Avatar.js"),ListItemAvatar=__webpack_require__("./node_modules/@mui/material/esm/ListItemAvatar/ListItemAvatar.js"),sdk_core_esm=__webpack_require__("./node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js"),CircularProgress=__webpack_require__("./node_modules/@mui/material/esm/CircularProgress/CircularProgress.js");emotion_styled_browser_esm.Z.span(LoadingIndicator_templateObject||(LoadingIndicator_templateObject=function LoadingIndicator_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n  width: 12px;\n  height: 12px;\n  border: 2px solid #fff;\n  border-bottom-color: transparent;\n  border-radius: 50%;\n  display: inline-block;\n  box-sizing: border-box;\n  -webkit-animation: rotation 1s linear infinite;\n  animation: rotation 1s linear infinite;\n  margin-right: 5px;\n\n  @keyframes rotation {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])));var LoadingIndicator=function LoadingIndicator(_ref){var text=_ref.text;return(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:1,marginTop:1.5,children:[(0,jsx_runtime.jsx)(CircularProgress.Z,{}),(0,jsx_runtime.jsx)(Typography.Z,{children:text})]})};LoadingIndicator.displayName="LoadingIndicator";const LoadingIndicator_LoadingIndicator=LoadingIndicator;try{LoadingIndicator.displayName="LoadingIndicator",LoadingIndicator.__docgenInfo={description:"",displayName:"LoadingIndicator",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LoadingIndicator/LoadingIndicator.tsx#LoadingIndicator"]={docgenInfo:LoadingIndicator.__docgenInfo,name:"LoadingIndicator",path:"src/components/LoadingIndicator/LoadingIndicator.tsx#LoadingIndicator"})}catch(__react_docgen_typescript_loader_error){}var displayFlexSx={display:"flex",flexDirection:"column"},PriceConversion=function PriceConversion(_ref){var gasPriceInUsd=_ref.gasPriceInUsd,estimatedPriceInToken=_ref.estimatedPriceInToken,selectedTokenSymbol=_ref.selectedTokenSymbol,impact=_ref.impact,nftPrice=_ref.nftPrice,nftChainSymbol=_ref.nftChainSymbol;return estimatedPriceInToken?(0,jsx_runtime.jsxs)(Box.Z,{sx:Object.assign({},displayFlexSx,{border:"1px solid rgba(0, 0, 0, 0.12)",padding:1.5,borderRadius:1.5,marginTop:1,background:"#f4f6fd",color:"#99a0c0"}),gap:1,children:[estimatedPriceInToken&&(0,jsx_runtime.jsxs)(Box.Z,{sx:displayFlexSx,justifyContent:"space-between",gap:1,children:[(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",sx:{">p":{color:"#99a0c0",fontWeight:"bold"}},children:[(0,jsx_runtime.jsx)(Typography.Z,{children:"Price conversion"}),(0,jsx_runtime.jsxs)(Typography.Z,{children:[nftPrice," ",nftChainSymbol," = ",estimatedPriceInToken," ",selectedTokenSymbol]})]}),(0,jsx_runtime.jsx)(Divider.Z,{})]}),impact.percent&&(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",justifyContent:"space-between",children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"caption",sx:{fontStyle:"italic"},children:"Price Impact"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"caption",sx:{fontStyle:"italic"},children:impact.toString()})]}),gasPriceInUsd&&(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",justifyContent:"space-between",children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"caption",sx:{fontStyle:"italic"},children:"Network Fees"}),(0,jsx_runtime.jsxs)(Typography.Z,{variant:"caption",sx:{fontStyle:"italic"},children:["$",gasPriceInUsd]})]})]}):null};PriceConversion.displayName="PriceConversion";const PriceConversion_PriceConversion=PriceConversion;try{PriceConversion.displayName="PriceConversion",PriceConversion.__docgenInfo={description:"",displayName:"PriceConversion",props:{gasPriceInUsd:{defaultValue:null,description:"",name:"gasPriceInUsd",required:!0,type:{name:"string | null"}},estimatedPriceInToken:{defaultValue:null,description:"",name:"estimatedPriceInToken",required:!0,type:{name:"string"}},selectedTokenSymbol:{defaultValue:null,description:"",name:"selectedTokenSymbol",required:!0,type:{name:"string"}},impact:{defaultValue:null,description:"",name:"impact",required:!0,type:{name:"PriceImpact"}},nftPrice:{defaultValue:null,description:"",name:"nftPrice",required:!0,type:{name:"string"}},nftChainSymbol:{defaultValue:null,description:"",name:"nftChainSymbol",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PriceConversion/PriceConversion.tsx#PriceConversion"]={docgenInfo:PriceConversion.__docgenInfo,name:"PriceConversion",path:"src/components/PriceConversion/PriceConversion.tsx#PriceConversion"})}catch(__react_docgen_typescript_loader_error){}var TRANSACTION_STEP_TEXTS={1:"Transaction started",2:"Approve token swap",3:"Exchange pending",4:"Approve checkout",5:"NFT purchase in progress"},TransactionSummary=function TransactionSummary(_ref){var estimatedPriceInToken=_ref.estimatedPriceInToken,transactionId=_ref.transactionId,receiverAddress=_ref.receiverAddress,nftPrice=_ref.nftPrice,nftChainSymbol=_ref.nftChainSymbol,selectedTokenSymbol=_ref.selectedTokenSymbol,transactionStarted=_ref.transactionStarted,transactionStep=_ref.transactionStep;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(RarimoPayDialog_DialogHeader,{label:"Transaction summary"}),transactionStarted&&(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:1,marginTop:1.5,children:[(0,jsx_runtime.jsx)(CircularProgress.Z,{}),(0,jsx_runtime.jsx)(Typography.Z,{children:TRANSACTION_STEP_TEXTS[transactionStep]})]}),transactionId&&(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexDirection:"column",sx:{color:"#99a0c0"},gap:2,children:[(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexDirection:"column",gap:3,children:[(0,jsx_runtime.jsx)(Box.Z,{}),(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",sx:{">p":{color:"#99a0c0",fontWeight:"bold"},border:"1px solid rgba(0, 0, 0, 0.12)",padding:1.5,borderRadius:1.5,background:"#f4f6fd",color:"#99a0c0"},children:[(0,jsx_runtime.jsx)(Typography.Z,{children:"Spent:"}),(0,jsx_runtime.jsxs)(Typography.Z,{children:[nftPrice," ",nftChainSymbol," = ",estimatedPriceInToken," ",selectedTokenSymbol]})]})]}),(0,jsx_runtime.jsxs)(Box.Z,{children:[(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"caption",sx:{fontStyle:"italic"},children:"Transaction ID:"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"caption",sx:{color:"#9ce680",fontWeight:"bold"},children:"Confirmed"})]}),(0,jsx_runtime.jsx)(Divider.Z,{}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"caption",sx:{fontStyle:"italic"},children:transactionId})]}),(0,jsx_runtime.jsxs)(Box.Z,{children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"caption",sx:{fontStyle:"italic"},children:"Receiving address:"}),(0,jsx_runtime.jsx)(Divider.Z,{}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"caption",sx:{fontStyle:"italic"},children:receiverAddress})]})]})]})};const TransactionSummary_TransactionSummary=TransactionSummary;try{TransactionSummary.displayName="TransactionSummary",TransactionSummary.__docgenInfo={description:"",displayName:"TransactionSummary",props:{estimatedPriceInToken:{defaultValue:null,description:"",name:"estimatedPriceInToken",required:!0,type:{name:"string"}},selectedTokenSymbol:{defaultValue:null,description:"",name:"selectedTokenSymbol",required:!0,type:{name:"string"}},nftPrice:{defaultValue:null,description:"",name:"nftPrice",required:!0,type:{name:"string"}},nftChainSymbol:{defaultValue:null,description:"",name:"nftChainSymbol",required:!0,type:{name:"string"}},receiverAddress:{defaultValue:null,description:"",name:"receiverAddress",required:!0,type:{name:"string"}},transactionId:{defaultValue:null,description:"",name:"transactionId",required:!0,type:{name:"string"}},transactionStarted:{defaultValue:null,description:"",name:"transactionStarted",required:!0,type:{name:"boolean"}},transactionStep:{defaultValue:null,description:"",name:"transactionStep",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TransactionSummary/TransactionSummary.tsx#TransactionSummary"]={docgenInfo:TransactionSummary.__docgenInfo,name:"TransactionSummary",path:"src/components/TransactionSummary/TransactionSummary.tsx#TransactionSummary"})}catch(__react_docgen_typescript_loader_error){}function RarimoPayButtonContext_slicedToArray(arr,i){return function RarimoPayButtonContext_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function RarimoPayButtonContext_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function RarimoPayButtonContext_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return RarimoPayButtonContext_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RarimoPayButtonContext_arrayLikeToArray(o,minLen)}(arr,i)||function RarimoPayButtonContext_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RarimoPayButtonContext_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var initContext={nftDetails:{price:"0",chainName:ChainName.goerli,id:"0"},jsonRPCUrlMap:{goerli:""}},RarimoPayButtonContext=(0,react.createContext)(initContext);function RarimoPayButtonProvider(props){var _useState2=RarimoPayButtonContext_slicedToArray((0,react.useState)(props.nftDetails||{}),2),nftDetails=_useState2[0],_useState4=(_useState2[1],RarimoPayButtonContext_slicedToArray((0,react.useState)(props.jsonRPCUrlMap||{}),2)),jsonRPCUrlMap=_useState4[0],context=(_useState4[1],{nftDetails,jsonRPCUrlMap});return(0,jsx_runtime.jsx)(RarimoPayButtonContext.Provider,{value:context,children:props.children})}RarimoPayButtonProvider.displayName="RarimoPayButtonProvider";const context_RarimoPayButtonContext=RarimoPayButtonContext;try{RarimoPayButtonProvider.displayName="RarimoPayButtonProvider",RarimoPayButtonProvider.__docgenInfo={description:"",displayName:"RarimoPayButtonProvider",props:{nftDetails:{defaultValue:null,description:"",name:"nftDetails",required:!0,type:{name:"NFTDetails"}},jsonRPCUrlMap:{defaultValue:null,description:"",name:"jsonRPCUrlMap",required:!0,type:{name:"JsonRPCUrlMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/context/RarimoPayButtonContext.tsx#RarimoPayButtonProvider"]={docgenInfo:RarimoPayButtonProvider.__docgenInfo,name:"RarimoPayButtonProvider",path:"src/context/RarimoPayButtonContext.tsx#RarimoPayButtonProvider"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.filter.js");var json_rpc_provider=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/json-rpc-provider.js"),esm=__webpack_require__("./node_modules/ethereum-erc20-token-balances-multicall/dist/esm/index.js");function useTokenBalances_regeneratorRuntime(){useTokenBalances_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function useTokenBalances_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var useTokenBalances_logger=getLogger(),useEthereumTokenBalances=function(){var _ref2=function useTokenBalances_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useTokenBalances_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useTokenBalances_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(useTokenBalances_regeneratorRuntime().mark((function _callee(_ref){var tokens,userWalletAddress,jsonRpcUrl,chainId,jsonRpcProvider,tokenWithbalances;return useTokenBalances_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return tokens=_ref.tokens,userWalletAddress=_ref.userWalletAddress,jsonRpcUrl=_ref.jsonRpcUrl,chainId=_ref.chainId,jsonRpcProvider=new json_rpc_provider.r(jsonRpcUrl,chainId),_context.next=4,(0,esm.g)({contractAddresses:null==tokens?void 0:tokens.map((function(token){return token.address})),ethereumAddress:userWalletAddress,providerOptions:{ethersProvider:jsonRpcProvider}});case 4:return tokenWithbalances=_context.sent,useTokenBalances_logger.debug({step:"useEthereumTokenBalances",tokenWithbalances}),_context.abrupt("return",tokenWithbalances.tokens.map((function(tokenWithbalance){return Object.assign({},tokenWithbalance,{address:tokenWithbalance.contractAddress})})).filter((function(_ref3){var balance=_ref3.balance;return Number(balance)})));case 7:case"end":return _context.stop()}}),_callee)})));return function useEthereumTokenBalances(_x){return _ref2.apply(this,arguments)}}(),sdk_esm=__webpack_require__("./node_modules/@traderjoe-xyz/sdk/dist/sdk.esm.js"),lib_esm=__webpack_require__("./node_modules/@ethersproject/units/lib.esm/index.js"),jsbi_umd=__webpack_require__("./node_modules/jsbi/dist/jsbi-umd.js"),jsbi_umd_default=__webpack_require__.n(jsbi_umd);function useTraderJoe_regeneratorRuntime(){useTraderJoe_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function useTraderJoe_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var useTraderJoe_logger=getLogger(),toHumanReadablePercent=function toHumanReadablePercent(priceImpact){var _priceImpact$multiply;return""+(priceImpact.lessThan("0")?"+":"")+parseFloat(null===(_priceImpact$multiply=priceImpact.multiply("-1"))||void 0===_priceImpact$multiply?void 0:_priceImpact$multiply.toSignificant(3))+"%"},useTraderJoe=function(){var _ref=function useTraderJoe_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useTraderJoe_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useTraderJoe_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(useTraderJoe_regeneratorRuntime().mark((function _callee(params){var chainId,inputToken,outputToken,jsonRPCUrlMap,inputAmount,paymentChainName,jsonRpcProvider,TokenA,TokenB,amountIn,currencyAmount,pair,route,trade;return useTraderJoe_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return useTraderJoe_logger.debug({step:"useTraderJoe: Passed params",params}),chainId=params.chainId,inputToken=params.inputToken,outputToken=params.outputToken,jsonRPCUrlMap=params.jsonRPCUrlMap,inputAmount=params.inputAmount,paymentChainName=params.paymentChainName,jsonRpcProvider=new json_rpc_provider.r(jsonRPCUrlMap[paymentChainName],chainId),TokenA=new sdk_esm.Z_(chainId,inputToken.address.toString(),inputToken.decimals,inputToken.symbol,inputToken.name),TokenB=new sdk_esm.Z_(chainId,outputToken.address.toString(),outputToken.decimals,outputToken.symbol,outputToken.name),amountIn=lib_esm.parseUnits(inputAmount.toString(),TokenB.decimals),currencyAmount=new sdk_esm.dt(TokenB,jsbi_umd_default().BigInt(amountIn)),_context.next=9,sdk_esm.HI.fetchPairData(TokenA,TokenB,jsonRpcProvider);case 9:return pair=_context.sent,route=new sdk_esm.AW([pair],TokenA,TokenB),trade=new sdk_esm.ho(route,currencyAmount,sdk_esm.YL.EXACT_OUTPUT,sdk_esm.a_.AVALANCHE),useTraderJoe_logger.debug({step:"SwapRouteResult",amountIn,currencyAmount,pair,route,trade,TokenA,TokenB}),_context.abrupt("return",{impact:trade.priceImpact?{percent:trade.priceImpact,toString:function toString(){return toHumanReadablePercent(trade.priceImpact)}}:void 0,gasCostInUsd:null,estimatedPriceInToken:trade.maximumAmountIn(new sdk_esm.gG("5","100")).toSignificant(6),selectedTokenSymbol:TokenA.symbol,trade});case 14:case"end":return _context.stop()}}),_callee)})));return function useTraderJoe(_x){return _ref.apply(this,arguments)}}(),router_sdk_dist=(__webpack_require__("./node_modules/core-js/modules/es.string.pad-start.js"),__webpack_require__("./node_modules/core-js/modules/es.number.to-fixed.js"),__webpack_require__("./node_modules/core-js/modules/es.date.now.js"),__webpack_require__("./node_modules/@uniswap/router-sdk/dist/index.js")),build_module=__webpack_require__("./node_modules/@uniswap/smart-order-router/build/module/index.js"),BIPS_BASE=jsbi_umd_default().BigInt(1e4),ALLOWED_PRICE_IMPACT_MEDIUM=(new sdk_core_esm.Percent(jsbi_umd_default().BigInt(1),BIPS_BASE),new sdk_core_esm.Percent(jsbi_umd_default().BigInt(100),BIPS_BASE),new sdk_core_esm.Percent(jsbi_umd_default().BigInt(300),BIPS_BASE)),ALLOWED_PRICE_IMPACT_HIGH=new sdk_core_esm.Percent(jsbi_umd_default().BigInt(500),BIPS_BASE),ZERO_PERCENT=(new sdk_core_esm.Percent(jsbi_umd_default().BigInt(1e3),BIPS_BASE),new sdk_core_esm.Percent(jsbi_umd_default().BigInt(1500),BIPS_BASE),new sdk_core_esm.Percent("0")),ONE_HUNDRED_PERCENT=new sdk_core_esm.Percent("1"),V3_SWAP_DEFAULT_SLIPPAGE=new sdk_core_esm.Percent(250,1e4),DEMO_TOKENS=[{chainId:5,address:"0xdc31ee1784292379fbb2964b3b9c4124d8f89c60",name:"Dai",symbol:"DAI",decimals:18,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png"},{chainId:5,address:"0xaf7f7d3bc41dc0ab220de52b91ebeb5d48e9f4c7",name:"USDC",symbol:"USDC",decimals:6,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{chainId:5,address:"0x326c977e6efc84e512bb9c30f76e30c160ed06fb",name:"ChainLink Token",symbol:"LINK",decimals:18,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x514910771AF9Ca656af840dff83E8264EcF986CA/logo.png"},{name:"Uniswap",address:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",symbol:"UNI",decimals:18,chainId:5,logoURI:"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{name:"Wrapped Ether",address:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",symbol:"WETH",decimals:18,chainId:5,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6/logo.png"},{name:"SAND (SAND)",address:"0x61e5D41AADd173Bd5e3E102cf13aF1DF9D90f5C7",symbol:"SAND",decimals:18,chainId:5,logoURI:"https://etherscan.io/token/images/sand_32.png"}],web3_provider=(getLogger(),__webpack_require__("./node_modules/ethers/node_modules/@ethersproject/providers/lib.esm/web3-provider.js"));function useEthereum_regeneratorRuntime(){useEthereum_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function useEthereum_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function useEthereum_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useEthereum_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useEthereum_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function useEthereum_slicedToArray(arr,i){return function useEthereum_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useEthereum_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useEthereum_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useEthereum_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useEthereum_arrayLikeToArray(o,minLen)}(arr,i)||function useEthereum_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useEthereum_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useEthereum_logger=getLogger(),useEthereum=function useEthereum(provider){if(!provider)return{init:function init(){return console.log("Please install a web3 wallet.")},getTokenBalances:function getTokenBalances(){return console.log("Please install a web3 wallet.")}};var currentProvider=new web3_provider.Q(provider,5),_useState2=useEthereum_slicedToArray((0,react.useState)({currentAddress:"",currentNetwork:{chainId:0}}),2),walletInfo=_useState2[0],setWalletInfo=_useState2[1],updateWalletInfo=function(){var _ref=useEthereum_asyncToGenerator(useEthereum_regeneratorRuntime().mark((function _callee(eventType){var network,userAccounts;return useEthereum_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return useEthereum_logger.debug("Updating wallet info on: "+eventType),_context.prev=1,_context.next=4,currentProvider.detectNetwork();case 4:if(network=_context.sent,console.log({network,f:walletInfo.currentNetwork}),5===walletInfo.currentNetwork.chainId&&5===network.chainId){_context.next=11;break}if(window.ethereum){_context.next=9;break}return _context.abrupt("return");case 9:return _context.next=11,currentProvider.send("wallet_switchEthereumChain",[{chainId:"0x"+Number(5).toString(16)}]);case 11:return useEthereum_logger.debug("Selected network",network),_context.next=14,currentProvider.listAccounts();case 14:userAccounts=_context.sent,useEthereum_logger.debug("User Accounts",userAccounts),setWalletInfo(Object.assign({},walletInfo,{currentAddress:userAccounts[0],currentNetwork:network})),_context.next=22;break;case 19:_context.prev=19,_context.t0=_context.catch(1),console.log({error:_context.t0});case 22:case"end":return _context.stop()}}),_callee,null,[[1,19]])})));return function updateWalletInfo(_x){return _ref.apply(this,arguments)}}(),addWalletListeners=function addWalletListeners(){var tempProvider=currentProvider.provider;tempProvider.on("accountsChanged",(function(){updateWalletInfo("accountsChanged")})),tempProvider.on("chainChanged",(function(){updateWalletInfo("chainChanged")})),tempProvider.on("disconnect",(function(){useEthereum_logger.debug("Updating wallet info on: disconnect"),setWalletInfo({currentAddress:"",currentNetwork:{chainId:1}})}))},init=function(){var _ref2=useEthereum_asyncToGenerator(useEthereum_regeneratorRuntime().mark((function _callee2(){return useEthereum_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return addWalletListeners(),_context2.next=3,updateWalletInfo("initialization");case 3:case"end":return _context2.stop()}}),_callee2)})));return function init(){return _ref2.apply(this,arguments)}}();return{init,connectEthAccounts,getTokenBalances:function getTokenBalances(){return getEthTokenBalances(currentProvider,walletInfo.currentAddress,walletInfo.currentNetwork.chainId)},walletInfo,currentProvider}};function usePriceImpact(trade){var marketPriceImpact=trade?function computeRealizedPriceImpact(trade){var realizedLpFeePercent=computeRealizedLPFeePercent(trade);return trade.priceImpact.subtract(realizedLpFeePercent)}(trade):void 0;if(marketPriceImpact){var percent=marketPriceImpact;return percent?{percent,warning:getPriceImpactWarning(percent),toString:function toString(){return function usePriceImpact_toHumanReadablePercent(priceImpact){var _priceImpact$multiply,sign=priceImpact.lessThan(0)?"+":"",number=parseFloat(null===(_priceImpact$multiply=priceImpact.multiply(-1))||void 0===_priceImpact$multiply?void 0:_priceImpact$multiply.toSignificant(3));return""+sign+number+"%"}(percent)}}:void 0}}function useSwapPrice_regeneratorRuntime(){useSwapPrice_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function useSwapPrice_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var useSwapPrice_logger=getLogger(),useSwapPrice=function(){var _ref=function useSwapPrice_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useSwapPrice_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useSwapPrice_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(useSwapPrice_regeneratorRuntime().mark((function _callee(params){var jsonRPCUrlMap,paymentChainName,_getDexProps,swapPriceFetcher,swapResult;return useSwapPrice_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(useSwapPrice_logger.debug({step:"useSwapPrice: Passed params",params}),jsonRPCUrlMap=params.jsonRPCUrlMap,paymentChainName=params.paymentChainName,!jsonRPCUrlMap||jsonRPCUrlMap[paymentChainName]){_context.next=4;break}throw new Error("Please provide proper JsonRPCUrlMap");case 4:if(_getDexProps=getDexProps(paymentChainName),!(swapPriceFetcher=_getDexProps.swapPriceFetcher)){_context.next=10;break}return _context.next=8,swapPriceFetcher(params);case 8:return swapResult=_context.sent,_context.abrupt("return",swapResult);case 10:case"end":return _context.stop()}}),_callee)})));return function useSwapPrice(_x){return _ref.apply(this,arguments)}}(),useTokenList_logger=(__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),getLogger()),useTokenList_fetcher=function fetcher(url){return fetch(url).then((function(res){return res.json()}))};function useUniswap_regeneratorRuntime(){useUniswap_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function useUniswap_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var FeeAmount,useUniswap_logger=getLogger();!function(FeeAmount){FeeAmount[FeeAmount.LOW=500]="LOW",FeeAmount[FeeAmount.MEDIUM=3e3]="MEDIUM",FeeAmount[FeeAmount.HIGH=1e4]="HIGH"}(FeeAmount||(FeeAmount={}));function encodePath(path,fees){if(path.length!=fees.length+1)throw new Error("path/fee lengths do not match");console.log(fees);for(var encoded="0x",i=0;i<fees.length;i++)encoded+=path[i].slice(2),encoded+=fees[i].toString(16).padStart(6,"0");return(encoded+=path[path.length-1].slice(2)).toLowerCase()}var getPathAndFee=function getPathAndFee(route){return{tokenPath:(route.protocol===router_sdk_dist.Protocol.V3?route.tokenPath:route.path).map((function(token){return""+token.address})),poolFeePath:(route.protocol===router_sdk_dist.Protocol.V3||route.protocol===router_sdk_dist.Protocol.MIXED?route.pools:route.pairs).map((function(pool){return pool.fee}))}},logSwapRouteResult=function logSwapRouteResult(route,impact,tokenPath,poolFeePath,encodedPath){var blockNumber=route.blockNumber,estimatedGasUsed=route.estimatedGasUsed,estimatedGasUsedQuoteToken=route.estimatedGasUsedQuoteToken,estimatedGasUsedUSD=route.estimatedGasUsedUSD,gasPriceWei=route.gasPriceWei,methodParameters=route.methodParameters,quote=route.quote,quoteGasAdjusted=route.quoteGasAdjusted,routeAmounts=route.route;useUniswap_logger.debug({step:"SwapRouteResult",route,routesAmountToString:(0,build_module.zD)(routeAmounts),quoteInDecimal:"Raw Quote Exact In: "+quote.toFixed(Math.min(quote.currency.decimals,10)),quoteGasAdjusted:"Gas Adjusted Quote In: "+quoteGasAdjusted.toFixed(Math.min(quoteGasAdjusted.currency.decimals,2)),gasUsedQuoteToken:"Gas Used Quote Token: "+estimatedGasUsedQuoteToken.toFixed(Math.min(estimatedGasUsedQuoteToken.currency.decimals,6)),gasUsedUSD:estimatedGasUsedUSD.toFixed(Math.min(estimatedGasUsedUSD.currency.decimals,6)),methodParameters,blockNumber:blockNumber.toString(),estimatedGasUsed:estimatedGasUsed.toString(),gasPriceWei:gasPriceWei.toString(),priceImpact:{impact,warning:null==impact?void 0:impact.toString()},tokenPath,poolFeePath,encodedPath})},useAlphaRouter=function(){var _ref=function useUniswap_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useUniswap_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useUniswap_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(useUniswap_regeneratorRuntime().mark((function _callee(params){var chainId,inputToken,outputToken,jsonRPCUrlMap,inputAmount,paymentChainName,userWalletAddress,jsonRpcProvider,TokenA,TokenB,newAmount,currencyAmount,router,route,impact,estimatedGasUsedUSD,trade,estimatedGasUsedQuoteToken,routeAmounts,gasCostInUsd,gasCostInUsdd,estimatedPriceInToken,_getPathAndFee,tokenPath,poolFeePath,encodedPath;return useUniswap_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return useUniswap_logger.debug({step:"useAlphaRouter: Passed params",params}),chainId=params.chainId,inputToken=params.inputToken,outputToken=params.outputToken,jsonRPCUrlMap=params.jsonRPCUrlMap,inputAmount=params.inputAmount,paymentChainName=params.paymentChainName,userWalletAddress=params.userWalletAddress,jsonRpcProvider=new json_rpc_provider.r(jsonRPCUrlMap[paymentChainName],chainId),TokenA=new sdk_core_esm.Token(chainId,inputToken.address.toLowerCase(),inputToken.decimals,inputToken.symbol,inputToken.name),TokenB=new sdk_core_esm.Token(chainId,outputToken.address.toLowerCase(),outputToken.decimals,outputToken.symbol,outputToken.name),newAmount=parseFloat(inputAmount),value=(newAmount+=2.5*newAmount/100).toString(),currency=TokenB,typedValueParsed=void 0,typedValueParsed=(0,lib_esm.parseUnits)(value,currency.decimals).toString(),currencyAmount=sdk_core_esm.CurrencyAmount.fromRawAmount(currency,jsbi_umd_default().BigInt(typedValueParsed)),router=new build_module.hf({chainId,provider:jsonRpcProvider}),_context.next=11,router.route(currencyAmount,TokenA,sdk_core_esm.TradeType.EXACT_OUTPUT,{recipient:userWalletAddress,slippageTolerance:new sdk_core_esm.Percent(5,100),deadline:Math.floor(Date.now()/1e3+1800)});case 11:if(!(route=_context.sent)){_context.next=28;break}return estimatedGasUsedUSD=route.estimatedGasUsedUSD,trade=route.trade,estimatedGasUsedQuoteToken=route.estimatedGasUsedQuoteToken,routeAmounts=route.route,trade&&(impact=usePriceImpact(trade)),gasCostInUsd=estimatedGasUsedUSD.toFixed(Math.min(estimatedGasUsedUSD.currency.decimals,6)),gasCostInUsdd=estimatedGasUsedQuoteToken.toFixed(Math.min(estimatedGasUsedQuoteToken.currency.decimals,6)),console.log(gasCostInUsdd),estimatedPriceInToken=formatCurrencyAmount(trade.maximumAmountIn(V3_SWAP_DEFAULT_SLIPPAGE),6,"en-US"),console.log(estimatedPriceInToken,routeAmounts),_getPathAndFee=getPathAndFee(routeAmounts[0].route),tokenPath=_getPathAndFee.tokenPath,poolFeePath=_getPathAndFee.poolFeePath,console.log(tokenPath,poolFeePath),encodedPath=encodePath(tokenPath.reverse(),poolFeePath.reverse()),console.log({encodedPath}),logSwapRouteResult(route,impact,tokenPath,poolFeePath,encodedPath),_context.abrupt("return",{impact,gasCostInUsd,estimatedPriceInToken,selectedTokenSymbol:TokenA.symbol,trade,encodedPath});case 28:throw useUniswap_logger.debug({step:"useAlphaRouter: No route found for swap",route}),new Error("No route found for swap.");case 30:case"end":return _context.stop()}var value,currency,typedValueParsed}),_callee)})));return function useAlphaRouter(_x){return _ref.apply(this,arguments)}}(),UNISWAP_TOKEN_LIST=config_CONFIG_UNISWAP_TOKEN_LIST,TRADER_JOE_TOKEN_LIST=config_CONFIG_TRADER_JOE_TOKEN_LIST,getDexProps=function getDexProps(paymentChain){var swapPriceFetcher,tokenListUrl,tokenBalancesFetcher;switch(paymentChain){case ChainName.ethereum:case ChainName.goerli:case ChainName.polygon:case ChainName.mumbai:swapPriceFetcher=useAlphaRouter,tokenListUrl=UNISWAP_TOKEN_LIST,tokenBalancesFetcher=useEthereumTokenBalances;break;case ChainName.avalanche:case ChainName.fuji:swapPriceFetcher=useTraderJoe,tokenListUrl=TRADER_JOE_TOKEN_LIST;break;case ChainName.bsc:case ChainName.solana:case ChainName.near:break;default:throw new Error("Unsupported payment chain provided")}return{swapPriceFetcher,tokenListUrl,tokenBalancesFetcher}},logger_lib_esm=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js")),handleError=function handleError(error,tokenToSwap){if(function isInsufficientLiquidity(error){return(null==error?void 0:error.code)===logger_lib_esm.ErrorCode.CALL_EXCEPTION&&"getReserves()"===(null==error?void 0:error.method)||error instanceof sdk_esm.CD||(null==error?void 0:error.message.includes("No route found for swap"))}(error))return"Insufficient liquidity for "+tokenToSwap.symbol+" ("+tokenToSwap.name+")"};function ethereum_helpers_regeneratorRuntime(){ethereum_helpers_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function ethereum_helpers_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function ethereum_helpers_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ethereum_helpers_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ethereum_helpers_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var connectEthAccounts=function(){var _ref=ethereum_helpers_asyncToGenerator(ethereum_helpers_regeneratorRuntime().mark((function _callee(provider){return ethereum_helpers_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,provider.send("eth_requestAccounts",[]);case 3:_context.next=8;break;case 5:throw _context.prev=5,_context.t0=_context.catch(0),new Error(JSON.stringify(_context.t0));case 8:case"end":return _context.stop()}}),_callee,null,[[0,5]])})));return function connectEthAccounts(_x){return _ref.apply(this,arguments)}}(),getEthTokenBalances=function(){var _ref2=ethereum_helpers_asyncToGenerator(ethereum_helpers_regeneratorRuntime().mark((function _callee2(provider,accountAddress,chainId){var balance,formattedBalance;return ethereum_helpers_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,connectEthAccounts(provider);case 3:return _context2.next=5,provider.getBalance(accountAddress);case 5:return balance=_context2.sent,formattedBalance=lib_esm.formatEther(balance),_context2.abrupt("return",[{balance:formattedBalance,chainId}]);case 10:throw _context2.prev=10,_context2.t0=_context2.catch(0),new Error(JSON.stringify(_context2.t0));case 13:case"end":return _context2.stop()}}),_callee2,null,[[0,10]])})));return function getEthTokenBalances(_x2,_x3,_x4){return _ref2.apply(this,arguments)}}();function formatCurrencyAmount(amount,sigFigs,locale,fixedDecimals){if(!amount)return"-";if(jsbi_umd_default().equal(amount.quotient,jsbi_umd_default().BigInt(0)))return"0";var isTinyNumber=amount.divide(amount.decimalScale).lessThan(new sdk_core_esm.Fraction(1,1e5)),localeNumber=function formatLocaleNumber(_ref){var numberString,number=_ref.number,sigFigs=_ref.sigFigs,fixedDecimals=_ref.fixedDecimals,_ref$options=_ref.options,options=void 0===_ref$options?{}:_ref$options;if(options.minimumFractionDigits=options.minimumFractionDigits||fixedDecimals,options.maximumFractionDigits=options.maximumFractionDigits||fixedDecimals,options.maximumSignificantDigits=options.maximumSignificantDigits||fixedDecimals?void 0:sigFigs,"number"==typeof number)numberString=fixedDecimals?parseFloat(number.toFixed(fixedDecimals)):number;else{var baseString=parseFloat(number.toSignificant(sigFigs));numberString=fixedDecimals?parseFloat(baseString.toFixed(fixedDecimals)):baseString}return numberString.toLocaleString("en-US",options)}({number:isTinyNumber?1e-5:amount,locale,sigFigs,fixedDecimals});return(isTinyNumber?"<":"")+localeNumber}__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js");var v2_sdk_esm=__webpack_require__("./node_modules/@uniswap/v2-sdk/dist/v2-sdk.esm.js"),v3_sdk_esm=__webpack_require__("./node_modules/@uniswap/v3-sdk/dist/v3-sdk.esm.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function prices_helpers_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return prices_helpers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return prices_helpers_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function prices_helpers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getPriceImpactWarning(priceImpact){return priceImpact.greaterThan(ALLOWED_PRICE_IMPACT_HIGH)?"error":priceImpact.greaterThan(ALLOWED_PRICE_IMPACT_MEDIUM)?"warning":void 0}function getFeeAmount(pool){return pool instanceof v2_sdk_esm.Pair?v3_sdk_esm.FeeAmount.MEDIUM:pool.fee}function computeRealizedLPFeePercent(trade){var percent;percent=ZERO_PERCENT;var _step,_iterator=_createForOfIteratorHelper(trade.swaps);try{for(_iterator.s();!(_step=_iterator.n()).done;){var swap=_step.value,_swap$inputAmount$div=swap.inputAmount.divide(trade.inputAmount),numerator=_swap$inputAmount$div.numerator,denominator=_swap$inputAmount$div.denominator,routeRealizedLPFeePercent=new sdk_core_esm.Percent(numerator,denominator).multiply(ONE_HUNDRED_PERCENT.subtract(swap.route.pools.reduce((function(currentFee,pool){var fee=getFeeAmount(pool);return currentFee.multiply(ONE_HUNDRED_PERCENT.subtract(new sdk_core_esm.Fraction(fee,1e6)))}),ONE_HUNDRED_PERCENT)));percent=percent.add(routeRealizedLPFeePercent)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return new sdk_core_esm.Percent(percent.numerator,percent.denominator)}var lib_esm_interface=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/interface.js"),contracts_lib_esm=__webpack_require__("./node_modules/@ethersproject/contracts/lib.esm/index.js"),abi_coder=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),bytes32=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/bytes32.js"),bytes_lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js");const abi_namespaceObject=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]'),rarify_abi_namespaceObject=JSON.parse('[{"inputs":[],"name":"bridge","outputs":[{"internalType":"contract IBridge","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMinimum","type":"uint256"},{"internalType":"contract IERC20","name":"tokenIn","type":"address"},{"internalType":"contract IERC20","name":"tokenOut","type":"address"},{"internalType":"string","name":"receiver","type":"string"},{"internalType":"string","name":"network","type":"string"},{"internalType":"bool","name":"isWrapped","type":"bool"},{"components":[{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"bytes","name":"bundle","type":"bytes"}],"internalType":"struct IBundler.Bundle","name":"bundle_","type":"tuple"}],"name":"swapExactInputSingleThenBridge","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMaximum","type":"uint256"},{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"string","name":"receiver","type":"string"},{"internalType":"string","name":"network","type":"string"},{"internalType":"bool","name":"isWrapped","type":"bool"},{"components":[{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"bytes","name":"bundle","type":"bytes"}],"internalType":"struct IBundler.Bundle","name":"bundle_","type":"tuple"}],"name":"swapExactOutputMultiHopThenBridge","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMaximum","type":"uint256"},{"internalType":"contract IERC20","name":"tokenIn","type":"address"},{"internalType":"contract IERC20","name":"tokenOut","type":"address"},{"internalType":"string","name":"receiver","type":"string"},{"internalType":"string","name":"network","type":"string"},{"internalType":"bool","name":"isWrapped","type":"bool"},{"components":[{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"bytes","name":"bundle","type":"bytes"}],"internalType":"struct IBundler.Bundle","name":"bundle_","type":"tuple"}],"name":"swapExactOutputSingleThenBridge","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"swapRouter","outputs":[{"internalType":"contract ISwapRouter","name":"","type":"address"}],"stateMutability":"view","type":"function"}]');function onCheckoutHandler_regeneratorRuntime(){onCheckoutHandler_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function onCheckoutHandler_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var RARIFY_ROUTER_ADDRESS="0x1840Bc40c28af54dF509A7e5dfC31723E5331d4D",onCheckoutHandler_logger=getLogger(),getEncodedFunctionData=function getEncodedFunctionData(receiver){return new lib_esm_interface.vU(["function buy(address receiver_) payable"]).encodeFunctionData("buy",[receiver])},onCheckoutHandler=function(){var _ref=function onCheckoutHandler_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){onCheckoutHandler_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){onCheckoutHandler_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(onCheckoutHandler_regeneratorRuntime().mark((function _callee(params){var userWalletAddress,estimatedPriceInToken,inputToken,outputToken,inputAmount,jsonRPCUrlMap,paymentChainName,chainId,setTransactionStep,encodedPath,TokenA,TokenB,web3Provider,jsonRpcProvider,signer,typedValueParsed,contract0,approvalAmount,newAmount,amountOut,allowance,allowanceInEther,approveTx,cont,priceOfNft,encodedFunctionData,abi,bundle,salt,transaction,successTransaction;return onCheckoutHandler_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,userWalletAddress=params.userWalletAddress,estimatedPriceInToken=params.estimatedPriceInToken,inputToken=params.inputToken,outputToken=params.outputToken,inputAmount=params.inputAmount,jsonRPCUrlMap=params.jsonRPCUrlMap,paymentChainName=params.paymentChainName,chainId=params.chainId,setTransactionStep=params.setTransactionStep,encodedPath=params.encodedPath,TokenA=inputToken,TokenB=outputToken,!window.ethereum){_context.next=47;break}return web3Provider=new web3_provider.Q(window.ethereum),jsonRpcProvider=new json_rpc_provider.r(jsonRPCUrlMap[paymentChainName],chainId),signer=web3Provider.getSigner(),typedValueParsed=(0,lib_esm.parseUnits)(estimatedPriceInToken,inputToken.decimals).toString(),console.log(estimatedPriceInToken,typedValueParsed),contract0=function getWethContract(){return new contracts_lib_esm.CH(TokenA.address,abi_namespaceObject,jsonRpcProvider)}(),approvalAmount=lib_esm.parseUnits(estimatedPriceInToken,18).toString(),newAmount=parseFloat(inputAmount),newAmount+=2.5*newAmount/100,amountOut=lib_esm.parseUnits(newAmount.toString(),TokenB.decimals).toString(),_context.next=18,contract0.allowance(userWalletAddress,RARIFY_ROUTER_ADDRESS);case 18:if(allowance=_context.sent,allowanceInEther=lib_esm.formatEther(allowance),onCheckoutHandler_logger.debug({step:"Allownace in ether",allowanceInEther,estimatedPriceInToken,spendingAmount:5*parseFloat(estimatedPriceInToken)}),!(parseFloat(estimatedPriceInToken)>parseFloat(allowanceInEther))){_context.next=30;break}return setTransactionStep(2),"115792089237316195423570985008687907853269984665640564039457584007913129639935",_context.next=26,contract0.connect(signer).approve(RARIFY_ROUTER_ADDRESS,"115792089237316195423570985008687907853269984665640564039457584007913129639935");case 26:return approveTx=_context.sent,setTransactionStep(3),_context.next=30,approveTx.wait();case 30:return cont=new contracts_lib_esm.CH(RARIFY_ROUTER_ADDRESS,rarify_abi_namespaceObject,signer),priceOfNft=lib_esm.parseUnits(inputAmount.toString(),TokenB.decimals).toString(),encodedFunctionData=getEncodedFunctionData(userWalletAddress),abi=abi_coder.$,bundle=abi.encode(["address[]","uint256[]","bytes[]"],[["0x77FEdfb705C8baC2E03aAD2Ad8A8Fe83e3E20FA1"],[priceOfNft],[encodedFunctionData]]),salt=bytes32.s(""+Math.random()),onCheckoutHandler_logger.debug({step:"Building transaction",bundleParams:{address:["0x77FEdfb705C8baC2E03aAD2Ad8A8Fe83e3E20FA1"],amountOUt:[amountOut],bytes:[encodedFunctionData]},amountOut,amountInMaximum:approvalAmount,tokenIn:inputToken.address,tokenOut:outputToken.address,receiver:userWalletAddress,network:"Sepolia",isWrapped:!0,bundle:{salt,bundle}}),setTransactionStep(4),_context.next=40,cont.swapExactOutputMultiHopThenBridge(amountOut,approvalAmount,encodedPath,userWalletAddress,"Sepolia",!0,{salt,bundle},{gasLimit:bytes_lib_esm.hexlify(5e5)});case 40:return transaction=_context.sent,setTransactionStep(5),_context.next=44,transaction.wait();case 44:return successTransaction=_context.sent,console.log({successTransaction}),_context.abrupt("return",successTransaction);case 47:_context.next=52;break;case 49:_context.prev=49,_context.t0=_context.catch(0),console.log({e:_context.t0});case 52:case"end":return _context.stop()}}),_callee,null,[[0,49]])})));return function onCheckoutHandler(_x){return _ref.apply(this,arguments)}}();function UserWalletTokens_regeneratorRuntime(){UserWalletTokens_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function UserWalletTokens_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function UserWalletTokens_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){UserWalletTokens_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){UserWalletTokens_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function UserWalletTokens_slicedToArray(arr,i){return function UserWalletTokens_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function UserWalletTokens_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function UserWalletTokens_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return UserWalletTokens_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UserWalletTokens_arrayLikeToArray(o,minLen)}(arr,i)||function UserWalletTokens_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UserWalletTokens_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var UserWalletTokens_logger=getLogger();var InitEstimatedPriceState={gasPriceInUsd:"",estimatedPriceInToken:"",selectedTokenSymbol:"",gasLimit:21e3,impact:{percent:new sdk_core_esm.Percent(50,1e4)},notEnoughTokens:!1,encodedPath:""},UserWalletTokenBalances=function UserWalletTokenBalances(_ref){var tokenBalancesPromise=_ref.tokenBalancesPromise,tokens=_ref.tokens,walletInfo=_ref.walletInfo,demoUrls=getDemoUrls(),_useState2=UserWalletTokens_slicedToArray((0,react.useState)({balances:[],noTokensWithBalances:!1,refreshTokenBalances:0}),2),tokenBalances=_useState2[0],setTokenBalances=_useState2[1],_useContext=(0,react.useContext)(context_RarimoPayButtonContext),nftDetails=_useContext.nftDetails,jsonRPCUrlMap=_useContext.jsonRPCUrlMap,_useState4=UserWalletTokens_slicedToArray((0,react.useState)(!1),2),isPriceLoading=_useState4[0],setIsPriceLoading=_useState4[1],_useState6=UserWalletTokens_slicedToArray((0,react.useState)(InitEstimatedPriceState),2),estimatedPrices=_useState6[0],setEstimatedPrices=_useState6[1],_useState8=UserWalletTokens_slicedToArray((0,react.useState)(""),2),setErrorText=(_useState8[0],_useState8[1]),_useState10=UserWalletTokens_slicedToArray((0,react.useState)(),2),selectedToken=_useState10[0],setSelectedToken=_useState10[1],_useState12=UserWalletTokens_slicedToArray((0,react.useState)(),2),outputToken=_useState12[0],setOutputToken=_useState12[1],_useState14=UserWalletTokens_slicedToArray((0,react.useState)(""),2),transactionId=_useState14[0],setTransactionId=_useState14[1],_useState16=UserWalletTokens_slicedToArray((0,react.useState)(!1),2),transactionStarted=_useState16[0],setTransactionStarted=_useState16[1],_useState18=UserWalletTokens_slicedToArray((0,react.useState)(1),2),transactionStep=_useState18[0],setTransactionStep=_useState18[1];(0,react.useEffect)((function(){function _fetchTokenBalances(){return(_fetchTokenBalances=UserWalletTokens_asyncToGenerator(UserWalletTokens_regeneratorRuntime().mark((function _callee(){var balances;return UserWalletTokens_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,tokenBalancesPromise;case 2:balances=_context.sent,console.log({balances}),balances.length?setTokenBalances({noTokensWithBalances:!1,refreshTokenBalances:0,balances}):(setTokenBalances({noTokensWithBalances:!0,refreshTokenBalances:0,balances}),setEstimatedPrices(InitEstimatedPriceState));case 5:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}tokenBalancesPromise&&function fetchTokenBalances(){return _fetchTokenBalances.apply(this,arguments)}()}),[tokenBalancesPromise,tokenBalances.refreshTokenBalances]);var resetStateOnTokenSelection=function resetStateOnTokenSelection(){setIsPriceLoading(!0),setEstimatedPrices(InitEstimatedPriceState),setErrorText(""),setTransactionId("")};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!transactionStarted&&!transactionId&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(RarimoPayDialog_DialogHeader,{label:"Choose your payment token"}),tokenBalances.balances&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(List.Z,{sx:{width:"100%",bgcolor:"background.paper",position:"relative",overflow:"auto",maxHeight:300},children:tokenBalances.balances.map((function(token){var _tokens$find,_tokens$find$logoURI,value,decimals,tokenLogoUri=null===(_tokens$find=tokens.find((function(t){return t.symbol===token.symbol})))||void 0===_tokens$find||null===(_tokens$find$logoURI=_tokens$find.logoURI)||void 0===_tokens$find$logoURI?void 0:_tokens$find$logoURI.replace("ipfs://","https://ipfs.io/ipfs/");return"WETH"===token.symbol&&(tokenLogoUri="https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"),(0,jsx_runtime.jsxs)(ListItemButton.Z,{selected:(null==selectedToken?void 0:selectedToken.symbol)===token.symbol,style:{borderRadius:8,paddingLeft:0,paddingRight:0,paddingTop:4,paddingBottom:4},onClick:UserWalletTokens_asyncToGenerator(UserWalletTokens_regeneratorRuntime().mark((function _callee2(){var wrappedToken,data,selectedTokenWithBalance,_errorText;return UserWalletTokens_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(setSelectedToken(token),resetStateOnTokenSelection(),_context2.prev=2,wrappedToken=getWrappedToken({nftChainName:ChainName.goerli,selectedChainName:ChainName.goerli,tokens}),setOutputToken(wrappedToken),UserWalletTokens_logger.debug({step:"onTokenSelection",inputToken:token,outputToken:wrappedToken}),(null==token?void 0:token.address.toLowerCase())!==(null==wrappedToken?void 0:wrappedToken.address.toLowerCase())){_context2.next=10;break}return UserWalletTokens_logger.debug("No swap neeed trigger transaction."),setIsPriceLoading(!1),_context2.abrupt("return");case 10:if(!(token&&wrappedToken&&null!=nftDetails&&nftDetails.price)){_context2.next=17;break}return _context2.next=13,useSwapPrice({chainId:ChainIds.goerli,jsonRPCUrlMap,inputAmount:nftDetails.price.toString(),inputToken:token,outputToken:wrappedToken,paymentChainName:ChainName.goerli,userWalletAddress:walletInfo.currentAddress});case 13:null!=(data=_context2.sent)&&data.selectedTokenSymbol&&null!=data&&data.estimatedPriceInToken&&(console.log(tokenBalances.balances.find((function(tokenWithBalance){return tokenWithBalance.address===(null==token?void 0:token.address)})),tokenBalances,selectedToken),selectedTokenWithBalance=tokenBalances.balances.find((function(tokenWithBalance){return tokenWithBalance.address===(null==token?void 0:token.address)})),setEstimatedPrices({gasPriceInUsd:null==data?void 0:data.gasCostInUsd,selectedTokenSymbol:null==data?void 0:data.selectedTokenSymbol,estimatedPriceInToken:null==data?void 0:data.estimatedPriceInToken,impact:null==data?void 0:data.impact,gasLimit:null==data?void 0:data.gasLimit,notEnoughTokens:parseFloat(data.estimatedPriceInToken)>parseFloat((null==selectedTokenWithBalance?void 0:selectedTokenWithBalance.balance)||"0"),encodedPath:null==data?void 0:data.encodedPath})),UserWalletTokens_logger.debug({step:"onTokenSelection:  Price is fetched",data}),setIsPriceLoading(!1);case 17:_context2.next=25;break;case 19:_context2.prev=19,_context2.t0=_context2.catch(2),UserWalletTokens_logger.debug({step:"Error occured while fetching price",error:_context2.t0}),_errorText=handleError(_context2.t0,token),setErrorText(_errorText||""),setIsPriceLoading(!1);case 25:case"end":return _context2.stop()}}),_callee2,null,[[2,19]])}))),children:[(0,jsx_runtime.jsx)(ListItemAvatar.Z,{children:(0,jsx_runtime.jsx)(Avatar.Z,{children:(0,jsx_runtime.jsx)("img",{src:tokenLogoUri,width:40})})}),(0,jsx_runtime.jsx)(ListItemText.Z,{primary:token.name,secondary:token.symbol,primaryTypographyProps:{sx:{fontWeight:600}},secondaryTypographyProps:{sx:{color:"rgba(0, 0, 0, 0.3)"}}}),(value=token.balance,decimals=6,Number(Math.round(value+"e"+decimals)+"e-"+decimals))]},token.symbol)}))})}),!tokenBalances.balances.length&&!tokenBalances.noTokensWithBalances&&(0,jsx_runtime.jsx)(LoadingIndicator_LoadingIndicator,{text:"Loading payment tokens"}),tokenBalances.noTokensWithBalances&&(0,jsx_runtime.jsxs)(Typography.Z,{variant:"caption",sx:{color:"#d32f2f",display:"block",textAlign:"center"},children:["No valid token found. To add valid tokens, please follow these"," ",(0,jsx_runtime.jsx)(Link.Z,{href:demoUrls.demoInstructions,target:"_blank",children:"steps"}),"."]}),!!tokenBalances.balances.length&&(0,jsx_runtime.jsx)(Divider.Z,{}),isPriceLoading&&(0,jsx_runtime.jsx)(LoadingIndicator_LoadingIndicator,{text:"Fetching best price"}),(0,jsx_runtime.jsx)(PriceConversion_PriceConversion,Object.assign({},estimatedPrices,{nftChainSymbol:"ETH",nftPrice:nftDetails.price}),"goerli-swap-price-"+walletInfo.currentNetwork.chainId+"-"+walletInfo.currentAddress),estimatedPrices.estimatedPriceInToken&&(0,jsx_runtime.jsx)(components_Button_Button,{label:"Checkout",isDisabled:transactionStarted||estimatedPrices.notEnoughTokens,onClick:UserWalletTokens_asyncToGenerator(UserWalletTokens_regeneratorRuntime().mark((function _callee3(){var transaction;return UserWalletTokens_regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!selectedToken||!outputToken){_context3.next=8;break}return setTransactionStarted(!0),_context3.next=4,onCheckoutHandler({chainId:ChainIds.goerli,jsonRPCUrlMap,inputAmount:nftDetails.price.toString(),inputToken:selectedToken,outputToken,paymentChainName:ChainName.goerli,userWalletAddress:walletInfo.currentAddress,estimatedPriceInToken:estimatedPrices.estimatedPriceInToken,setTransactionStep,encodedPath:estimatedPrices.encodedPath});case 4:transaction=_context3.sent,setTransactionStarted(!1),setTransactionId(transaction.transactionHash),console.log({transaction});case 8:case"end":return _context3.stop()}}),_callee3)}))),styles:{marginTop:24}}),estimatedPrices.notEnoughTokens&&(0,jsx_runtime.jsxs)(Typography.Z,{variant:"subtitle2",sx:{color:"#d32f2f",display:"block",textAlign:"center"},children:["Not enough ",null==selectedToken?void 0:selectedToken.symbol," token in wallet. Please select other token."," "]})]}),(transactionStarted||transactionId)&&(0,jsx_runtime.jsx)(TransactionSummary_TransactionSummary,Object.assign({},estimatedPrices,{nftPrice:nftDetails.price,nftChainSymbol:"ETH",receiverAddress:walletInfo.currentAddress,transactionId,transactionStarted,transactionStep}),"transaction-summary-"+nftDetails.id)]})},UserWalletTokens=function UserWalletTokens(_ref4){var _walletInfo$currentNe,_walletInfo$currentNe2,walletInfo=_ref4.walletInfo,jsonRPCUrlMap=_ref4.jsonRPCUrlMap,_useTokenList=function useTokenList(_ref){_ref.shouldFetch;var tokens,tokenBalancesPromise,chainId=_ref.chainId,chainName=_ref.chainName,jsonRPCUrlMap=_ref.jsonRPCUrlMap,userWalletAddress=_ref.userWalletAddress,_ref2=chainName&&getDexProps(chainName),tokenListUrl=_ref2.tokenListUrl,tokenBalancesFetcher=_ref2.tokenBalancesFetcher,_useSWRImmutable=(0,dist.Z)(null,useTokenList_fetcher,{revalidateOnFocus:!1,revalidateIfStale:!1}),_data=_useSWRImmutable.data,error=_useSWRImmutable.error,data={tokens:DEMO_TOKENS};if(_data||data.tokens){var allTokens=data.tokens;if(tokens=(tokens=chainId?allTokens.filter((function(token){return token.chainId===chainId})):allTokens).sort((function(a,b){return a.symbol.localeCompare(b.symbol)})),jsonRPCUrlMap&&!jsonRPCUrlMap[chainName])throw new Error("Please provide proper JsonRPCUrlMap");tokenBalancesPromise=tokenBalancesFetcher({tokens,userWalletAddress,jsonRpcUrl:jsonRPCUrlMap[chainName],chainId})}return useTokenList_logger.debug({step:"useTokenList",endpoint:tokenListUrl,rawData:data,mappedData:tokens}),{tokens,tokenBalancesPromise,isLoading:!error&&!data,isError:error}}({chainId:(null==walletInfo||null===(_walletInfo$currentNe=walletInfo.currentNetwork)||void 0===_walletInfo$currentNe?void 0:_walletInfo$currentNe.chainId)||0,shouldFetch:Boolean(null==walletInfo?void 0:walletInfo.currentAddress)&&Boolean(null==walletInfo||null===(_walletInfo$currentNe2=walletInfo.currentNetwork)||void 0===_walletInfo$currentNe2?void 0:_walletInfo$currentNe2.chainId)||!1,jsonRPCUrlMap,chainName:ChainName.goerli,userWalletAddress:(null==walletInfo?void 0:walletInfo.currentAddress)||""}),tokens=_useTokenList.tokens,tokenBalancesPromise=_useTokenList.tokenBalancesPromise;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:walletInfo.currentAddress&&(0,jsx_runtime.jsx)(UserWalletTokenBalances,{tokenBalancesPromise,tokens,walletInfo})})};const UserWalletTokens_UserWalletTokens=UserWalletTokens;try{UserWalletTokens.displayName="UserWalletTokens",UserWalletTokens.__docgenInfo={description:"",displayName:"UserWalletTokens",props:{walletInfo:{defaultValue:null,description:"",name:"walletInfo",required:!0,type:{name:"WalletInfo"}},jsonRPCUrlMap:{defaultValue:null,description:"",name:"jsonRPCUrlMap",required:!0,type:{name:"JsonRPCUrlMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UserWalletTokens/UserWalletTokens.tsx#UserWalletTokens"]={docgenInfo:UserWalletTokens.__docgenInfo,name:"UserWalletTokens",path:"src/components/UserWalletTokens/UserWalletTokens.tsx#UserWalletTokens"})}catch(__react_docgen_typescript_loader_error){}function PaymentWallets_regeneratorRuntime(){PaymentWallets_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function PaymentWallets_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function PaymentWallets_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){PaymentWallets_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){PaymentWallets_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var PaymentWallets=function PaymentWallets(_ref){var jsonRPCUrlMap=_ref.jsonRPCUrlMap,_useEthereum=useEthereum(window.ethereum),init=_useEthereum.init,connectEthAccounts=_useEthereum.connectEthAccounts,currentProvider=_useEthereum.currentProvider,walletInfo=_useEthereum.walletInfo;return(0,react.useEffect)((function(){function _initProvider(){return(_initProvider=PaymentWallets_asyncToGenerator(PaymentWallets_regeneratorRuntime().mark((function _callee(){return PaymentWallets_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,init();case 2:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}!function initProvider(){return _initProvider.apply(this,arguments)}()}),[]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!(null!=walletInfo&&walletInfo.currentAddress)&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(RarimoPayDialog_DialogHeader,{label:"Choose your payment wallet"}),(0,jsx_runtime.jsx)(List.Z,{sx:{width:"100%",bgcolor:"background.paper"},children:(0,jsx_runtime.jsxs)(ListItemButton.Z,{style:{borderRadius:8},onClick:PaymentWallets_asyncToGenerator(PaymentWallets_regeneratorRuntime().mark((function _callee2(){return PaymentWallets_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!currentProvider){_context2.next=3;break}return _context2.next=3,connectEthAccounts(currentProvider);case 3:case"end":return _context2.stop()}}),_callee2)}))),children:[(0,jsx_runtime.jsx)(ListItemIcon.Z,{children:(0,jsx_runtime.jsx)("img",{src:"https://img.icons8.com/color/48/null/metamask-logo.png",width:34,height:34})}),(0,jsx_runtime.jsx)(ListItemText.Z,{id:"switch-list-label-metamask",primary:"MetaMask"})]})})]}),(null==walletInfo?void 0:walletInfo.currentAddress)&&(0,jsx_runtime.jsx)(UserWalletTokens_UserWalletTokens,{walletInfo,jsonRPCUrlMap})]})};const PaymentWallets_PaymentWallets=PaymentWallets;try{PaymentWallets.displayName="PaymentWallets",PaymentWallets.__docgenInfo={description:"",displayName:"PaymentWallets",props:{jsonRPCUrlMap:{defaultValue:null,description:"",name:"jsonRPCUrlMap",required:!0,type:{name:"JsonRPCUrlMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PaymentWallets/PaymentWallets.tsx#PaymentWallets"]={docgenInfo:PaymentWallets.__docgenInfo,name:"PaymentWallets",path:"src/components/PaymentWallets/PaymentWallets.tsx#PaymentWallets"})}catch(__react_docgen_typescript_loader_error){}var RarimoPayDialog=function RarimoPayDialog(_ref){var open=_ref.open,handleCloseDialog=_ref.handleCloseDialog,jsonRPCUrlMap=_ref.jsonRPCUrlMap;return(0,jsx_runtime.jsxs)(Dialog.Z,{onClose:handleCloseDialog,fullWidth:!0,open,PaperProps:{style:{borderRadius:25}},children:[(0,jsx_runtime.jsx)(Cancel.Z,{style:{position:"absolute",right:24,cursor:"pointer",top:24},onClick:handleCloseDialog}),(0,jsx_runtime.jsx)(DialogContent.Z,{style:{padding:48,display:"flex",flexDirection:"column",gridGap:10},children:(0,jsx_runtime.jsx)(PaymentWallets_PaymentWallets,{jsonRPCUrlMap})})]})};RarimoPayDialog.displayName="RarimoPayDialog";const RarimoPayDialog_RarimoPayDialog=RarimoPayDialog;try{RarimoPayDialog.displayName="RarimoPayDialog",RarimoPayDialog.__docgenInfo={description:"",displayName:"RarimoPayDialog",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},handleCloseDialog:{defaultValue:null,description:"",name:"handleCloseDialog",required:!0,type:{name:"() => void"}},jsonRPCUrlMap:{defaultValue:null,description:"",name:"jsonRPCUrlMap",required:!0,type:{name:"JsonRPCUrlMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RarimoPayDialog/RarimoPayDialog.tsx#RarimoPayDialog"]={docgenInfo:RarimoPayDialog.__docgenInfo,name:"RarimoPayDialog",path:"src/components/RarimoPayDialog/RarimoPayDialog.tsx#RarimoPayDialog"})}catch(__react_docgen_typescript_loader_error){}var createTheme=__webpack_require__("./node_modules/@mui/material/styles/createTheme.js"),spacing=function spacing(size){return 8*size+"px"},componentsTheme={MuiMenuItem:{styleOverrides:{root:{borderRadius:""+spacing(1),margin:"0 "+spacing(1),padding:"12px "+spacing(2),fontWeight:"medium",fontSize:"14px",color:"rgba(0 0 0 / 87%)","&:hover":{backgroundColor:"#fafafa"},"&:not(:first-of-type)":{marginTop:spacing(1)}}}},MuiSelect:{styleOverrides:{icon:{top:spacing(2),right:spacing(2)}}}},theme=(0,createTheme.ZP)({components:componentsTheme,shape:{borderRadius:8}});function RarimoPayButton_slicedToArray(arr,i){return function RarimoPayButton_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function RarimoPayButton_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function RarimoPayButton_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return RarimoPayButton_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RarimoPayButton_arrayLikeToArray(o,minLen)}(arr,i)||function RarimoPayButton_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RarimoPayButton_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var RarimoPayButton_logger=getLogger(),RarimoPayButton=function RarimoPayButton(props){RarimoPayButton_logger.debug(props);var buttonProps=props.buttonProps,jsonRPCUrlMap=props.jsonRPCUrlMap,_props$withModal=props.withModal,withModal=void 0===_props$withModal||_props$withModal,_useState2=RarimoPayButton_slicedToArray((0,react.useState)(!1),2),showSupportedChains=_useState2[0],setShowSupportedChains=_useState2[1];return(0,jsx_runtime.jsxs)(ThemeProvider.Z,{theme,children:[(0,jsx_runtime.jsx)(CssBaseline.ZP,{}),(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexDirection:"column",gap:2,children:[(0,jsx_runtime.jsx)(components_Button_Button,Object.assign({},buttonProps,{label:(null==buttonProps?void 0:buttonProps.label)||"Buy with Rarimo",onClick:function onClick(){return setShowSupportedChains(!0)}})),showSupportedChains&&withModal&&(0,jsx_runtime.jsx)(RarimoPayButtonProvider,Object.assign({},props,{children:(0,jsx_runtime.jsx)(RarimoPayDialog_RarimoPayDialog,{open:showSupportedChains,handleCloseDialog:function handleCloseDialog(){return setShowSupportedChains(!1)},jsonRPCUrlMap})}))]})]})};RarimoPayButton.displayName="RarimoPayButton";const RarimoPayButton_RarimoPayButton=RarimoPayButton;try{RarimoPayButton.displayName="RarimoPayButton",RarimoPayButton.__docgenInfo={description:"",displayName:"RarimoPayButton",props:{buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"ButtonProps"}},chainList:{defaultValue:null,description:"",name:"chainList",required:!1,type:{name:"Chain[]"}},jsonRPCUrlMap:{defaultValue:null,description:"",name:"jsonRPCUrlMap",required:!0,type:{name:"JsonRPCUrlMap"}},nftDetails:{defaultValue:null,description:"",name:"nftDetails",required:!0,type:{name:"NFTDetails"}},withModal:{defaultValue:null,description:"",name:"withModal",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RarimoPayButton/RarimoPayButton.tsx#RarimoPayButton"]={docgenInfo:RarimoPayButton.__docgenInfo,name:"RarimoPayButton",path:"src/components/RarimoPayButton/RarimoPayButton.tsx#RarimoPayButton"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js");var _CHAIN_LIST,_NETWORK_TYPE$MAINNET,_NETWORK_TYPE$TESTNET,_JSON_RPC_URL_MAP;function PurchaseWithAnyToken_slicedToArray(arr,i){return function PurchaseWithAnyToken_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PurchaseWithAnyToken_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PurchaseWithAnyToken_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PurchaseWithAnyToken_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PurchaseWithAnyToken_arrayLikeToArray(o,minLen)}(arr,i)||function PurchaseWithAnyToken_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PurchaseWithAnyToken_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var INFURA_KEY="a3b52c2dba094c759269e91d5b9e3622",NETWORK_TYPE_MAINNET="mainnet",NETWORK_TYPE_TESTNET="testnet",CHAIN_LIST=((_CHAIN_LIST={})[NETWORK_TYPE_MAINNET]=[{contractAddress:"0x7ce68BDE528A2623198aF3756B073FAb376b9fe2",chainId:1,symbol:"ETH",chainType:"evm",icon:"https://chainlist.org/_next/image?url=https%3A%2F%2Fdefillama.com%2Fchain-icons%2Frsz_ethereum.jpg&w=32&q=75",name:"ethereum",displayName:"Ethereum Mainnet"},{contractAddress:"0x7ce68BDE528A2623198aF3756B073FAb376b9fe21",chainId:137,symbol:"MATIC",chainType:"evm",icon:"https://chainlist.org/_next/image?url=https%3A%2F%2Fdefillama.com%2Fchain-icons%2Frsz_polygon.jpg&w=32&q=75",name:"polygon",displayName:"Polygon Mainnet"},{contractAddress:"0x7ce68BDE528A2623198aF3756B073FAb376b9fe21",chainId:43114,symbol:"AVAX",chainType:"evm",icon:"https://chainlist.org/_next/image?url=https%3A%2F%2Fdefillama.com%2Fchain-icons%2Frsz_avalanche.jpg&w=64&q=75",name:"avalanche",displayName:"Avalanche C-Chain"}],_CHAIN_LIST[NETWORK_TYPE_TESTNET]=[{contractAddress:"0x7ce68BDE528A2623198aF3756B073FAb376b9fe21s",chainId:5,symbol:"ETH",chainType:"evm",icon:"https://chainlist.org/_next/image?url=%2Funknown-logo.png&w=64&q=75",name:"goerli",displayName:"GÃ¶rli"},{contractAddress:"0x7ce68BDE528A2623198aF3756B073FAb376b9fe21",chainId:43113,symbol:"AVAX",chainType:"evm",icon:"https://chainlist.org/_next/image?url=https%3A%2F%2Fdefillama.com%2Fchain-icons%2Frsz_avalanche.jpg&w=64&q=75",name:"fuji",displayName:"Avalanche Fuji-Chain"},{contractAddress:"0x7ce68BDE528A2623198aF3756B073FAb376b9fe21",chainId:80001,symbol:"MATIC",chainType:"evm",icon:"https://chainlist.org/_next/image?url=%2Funknown-logo.png&w=64&q=75",name:"Polygon Mumbai",displayName:"mumbai"}],_CHAIN_LIST),JSON_RPC_URL_MAP=((_JSON_RPC_URL_MAP={})[NETWORK_TYPE_MAINNET]=((_NETWORK_TYPE$MAINNET={})[ChainName.ethereum]="https://mainnet.infura.io/v3/"+INFURA_KEY,_NETWORK_TYPE$MAINNET[ChainName.polygon]="https://polygon-mainnet.infura.io/v3/"+INFURA_KEY,_NETWORK_TYPE$MAINNET[ChainName.avalanche]="https://avalanche-mainnet.infura.io/v3/"+INFURA_KEY,_NETWORK_TYPE$MAINNET),_JSON_RPC_URL_MAP[NETWORK_TYPE_TESTNET]=((_NETWORK_TYPE$TESTNET={})[ChainName.goerli]="https://goerli.infura.io/v3/"+INFURA_KEY,_NETWORK_TYPE$TESTNET[ChainName.fuji]="https://avalanche-fuji.infura.io/v3/"+INFURA_KEY,_NETWORK_TYPE$TESTNET[ChainName.polygon]="https://polygon-mumbai.infura.io/v3/"+INFURA_KEY,_NETWORK_TYPE$TESTNET),_JSON_RPC_URL_MAP),PurchaseWithAnyToken_fetcher=function fetcher(url){return fetch(url).then((function(res){return res.json()}))},PurchaseWithAnyToken=function PurchaseWithAnyToken(_ref){var buttonProps=_ref.buttonProps,_useState2=PurchaseWithAnyToken_slicedToArray((0,react.useState)({nativeToken:"ETH",chainName:"ethereum",price:.001}),2),nftDetails=_useState2[0],_useNFT=(_useState2[1],function useNFT(){var nftInfo,_data$original_price,_useSWRImmutable=(0,dist.Z)("https://api.demo.rarimo.com/marketplace/nft",PurchaseWithAnyToken_fetcher,{revalidateOnFocus:!1,revalidateIfStale:!1}),data=_useSWRImmutable.data,error=_useSWRImmutable.error;return nftInfo={image:"",name:"",price:0,priceInUsd:0},console.log({data}),data&&(nftInfo={image:data.image,name:data.name,price:parseFloat(null==data||null===(_data$original_price=data.original_price)||void 0===_data$original_price?void 0:_data$original_price.price),priceInUsd:parseFloat(null==data?void 0:data.usd_price)}),{nftInfo,isLoading:!error&&!data,isError:error}}()),nftInfo=_useNFT.nftInfo,_useState4=(_useNFT.isLoading,_useNFT.isError,PurchaseWithAnyToken_slicedToArray((0,react.useState)(NETWORK_TYPE_TESTNET),2)),selectedNetwork=_useState4[0],_useState6=(_useState4[1],PurchaseWithAnyToken_slicedToArray((0,react.useState)(CHAIN_LIST[selectedNetwork]),2)),chainList=_useState6[0],setChainList=_useState6[1],_useState8=PurchaseWithAnyToken_slicedToArray((0,react.useState)(JSON_RPC_URL_MAP[selectedNetwork]),2),jsonRPCUrlMap=_useState8[0],setJsoRpcUrlMap=_useState8[1],demoUrls=getDemoUrls();return(0,react.useEffect)((function(){setChainList(CHAIN_LIST[selectedNetwork]),setJsoRpcUrlMap(JSON_RPC_URL_MAP[selectedNetwork])}),[selectedNetwork]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(Container.Z,{fixed:!0,children:(0,jsx_runtime.jsxs)(Box.Z,{sx:{flexGrow:1,paddingTop:8},children:[(0,jsx_runtime.jsxs)(Grid.ZP,{container:!0,spacing:0,sx:{width:"100%"},children:[(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:12,md:6,display:"flex",justifyContent:"center",children:nftInfo.image?(0,jsx_runtime.jsx)("img",{src:null==nftInfo?void 0:nftInfo.image,width:400,style:{borderRadius:20}}):(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"rectangular",width:400,height:560,sx:{borderRadius:2.5}})}),(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:12,md:6,display:"flex",justifyContent:"center",children:(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexDirection:"column",gap:3,style:{minWidth:400},children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"subtitle2",sx:{fontWeight:"bold",display:"flex",alignItems:"center",gap:1},children:nftInfo.name?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Otherdeed"," ",(0,jsx_runtime.jsx)(VerifiedBadge.Z,{width:18,style:{fill:"#4588FF",color:"#ffffff"}})]}):(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"text",width:150})}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"h5",sx:{fontWeight:"bold"},children:nftInfo.name?nftInfo.name:(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"text",width:150})})]}),(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",alignItems:"center",gap:2.5,children:[nftInfo.price?(0,jsx_runtime.jsx)(Box.Z,{width:40,height:40,sx:{background:"linear-gradient(103deg, rgb(255 156 156 / 87%) 0%, rgb(60, 146, 237) 100%)",borderRadius:25}}):(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"circular",width:40,height:40}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"body1",sx:{fontWeight:600,fontSize:14,color:"rgba(0,0,0,0.3)"},children:"Current owner"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:nftInfo.price?"0x989023..7b41":(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"text",width:100})})]})]}),(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexDirection:"column",sx:{border:"1px solid #eee",borderRadius:2.5,padding:3,maxWidth:430},gap:6,children:[(0,jsx_runtime.jsxs)(Box.Z,{sx:{borderRadius:2.5,padding:1.5,width:180,background:"#eeeeee9c"},children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"body1",sx:{fontWeight:600,fontSize:13,color:"rgba(0,0,0,0.3)"},children:"Price"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"body1",sx:{fontWeight:600,fontSize:16},children:nftInfo.price?nftInfo.price+" ETH":(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"text",width:50})}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"body1",sx:{fontWeight:600,fontSize:13,color:"rgba(0,0,0,0.3)"},children:nftInfo.price?"$ "+nftInfo.priceInUsd:(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"text",width:50})})]}),(0,jsx_runtime.jsx)(Box.Z,{display:"flex",flexDirection:"column",gap:1.5,children:nftInfo.price?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(RarimoPayButton_RarimoPayButton,{buttonProps,chainList,nftDetails:{chainName:nftDetails.chainName,price:nftInfo.price,id:"123"},jsonRPCUrlMap}),(0,jsx_runtime.jsx)(Button.Z,{variant:"outlined",sx:{textTransform:"none",height:48,borderRadius:2,border:"1px solid #eee",color:"#000000",fontWeight:"bold",":hover":{borderColor:"#eee"}},children:"Place a bid"}),(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexDirection:"row",gap:1,justifyContent:"center",sx:{"> p":{fontWeight:"bold",color:"rgba(0,0,0,0.3)"}},children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:"Sale ends in"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:"0d"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:"0h"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:"52m"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:"48s"})]})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"rectangular",sx:{borderRadius:1.5,height:48}}),(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"rectangular",sx:{borderRadius:1.5,height:48}}),(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"rectangular"})]})})]})]})})]}),(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,display:"flex",justifyContent:"center",marginTop:5,children:(0,jsx_runtime.jsx)(Link.Z,{href:demoUrls.demoInstructions,sx:{textDecoration:"none"},target:"_blank",children:(0,jsx_runtime.jsx)(Typography.Z,{sx:{fontStyle:"italic",fontWeight:"bold"},children:"See step by step instruction for the demo"})})})]})})})};try{PurchaseWithAnyToken.displayName="PurchaseWithAnyToken",PurchaseWithAnyToken.__docgenInfo={description:"",displayName:"PurchaseWithAnyToken",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"ButtonProps"}},chainList:{defaultValue:null,description:"",name:"chainList",required:!1,type:{name:"Chain[]"}},jsonRPCUrlMap:{defaultValue:null,description:"",name:"jsonRPCUrlMap",required:!0,type:{name:"JsonRPCUrlMap"}},nftDetails:{defaultValue:null,description:"",name:"nftDetails",required:!0,type:{name:"NFTDetails"}},withModal:{defaultValue:null,description:"",name:"withModal",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/PurchaseWithAnyToken.tsx#PurchaseWithAnyToken"]={docgenInfo:PurchaseWithAnyToken.__docgenInfo,name:"PurchaseWithAnyToken",path:"src/stories/PurchaseWithAnyToken.tsx#PurchaseWithAnyToken"})}catch(__react_docgen_typescript_loader_error){}const PurchaseWithAnyToken_stories={title:"Demo/PurchaseWithAnyToken",component:PurchaseWithAnyToken};var Template=function Template(args){return(0,jsx_runtime.jsx)(PurchaseWithAnyToken,Object.assign({},args))};Template.displayName="Template";var Demo=Template.bind({});Demo.args={buttonProps:{label:"Purchase with any token",styles:{backgroundColor:"#000000",fontWeight:"bold"}}};var DemoInstructionsTemplate=function DemoInstructionsTemplate(){return(0,jsx_runtime.jsx)(DemoInstructions,{})};DemoInstructionsTemplate.displayName="DemoInstructionsTemplate";var PurchaseWithAnyToken_stories_DemoInstructions=DemoInstructionsTemplate.bind({});Demo.parameters=Object.assign({storySource:{source:"(args) => (\n  <PurchaseWithAnyTokenC {...args} />\n)"}},Demo.parameters),PurchaseWithAnyToken_stories_DemoInstructions.parameters=Object.assign({storySource:{source:"() => <DemoInstructionsC />"}},PurchaseWithAnyToken_stories_DemoInstructions.parameters);var __namedExportsOrder=["Demo","DemoInstructions"]},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./stories/PurchaseWithAnyToken.stories.tsx":"./src/stories/PurchaseWithAnyToken.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"?ff28":()=>{},"?0707":()=>{},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[816],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);